<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Chi Tiết Sản Phẩm</title>
  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">
  <!-- FontAwesome -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
  <link href="../../src/assets/css/pages/ProductDetail.css" rel="stylesheet">
  
  <!-- Supabase JS SDK from CDN -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>
<body>

<!-- Navbar -->
<nav class="navbar navbar-expand-lg navbar-custom">
  <div class="container">
      <a class="navbar-brand" href="IntroductionPage.html">Blockify</a>
      
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon" style="filter: invert(1);"></span>
      </button>
      
      <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav me-auto">
              <li class="nav-item">
                  <a class="nav-link" href="HomePage.html">Trang chủ</a>
              </li>
              <li class="nav-item">
                  <a class="nav-link" href="IntroductionPage.html">Giới thiệu</a>
              </li>
              <li class="nav-item dropdown">
                  <a class="nav-link" href="Service.html">Dịch vụ</a>
              </li>
          </ul>
          
          <div class="navbar-right-icons">
              <a href="#" class="search-icon">
                  <i class="bi bi-search" id="openSearch"></i>
              </a>
              <a href="CartPage.html" class="cart-icon position-relative">
                  <i class="bi bi-cart"></i>
                  <span class="cart-badge position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger d-none">0</span>
              </a>
              <a href="SigninPage.html" class="btn-sign">Đăng nhập</a>
              <a href="SignupPage.html" class="btn-sign">Đăng ký</a>
          </div>
      </div>
      <div class="overlay" id="overlay">
        <div class="search-popup">
          <div class="search-header">
            <strong class="text-white">Tìm kiếm</strong>
            <i class="bi bi-x-circle" id="closeSearch" style="cursor:pointer; color:white"></i>
          </div>
      
          <!-- Input -->
          <input 
            type="text" 
            class="search-input text-white" 
            id="searchInput" 
            style="border: 0; background-color: rgb(30, 41, 57);" 
            placeholder="Nhập từ khóa...">
          
          <div class="line mb-2"></div>
      
          <!-- Suggestions -->
          <div class="suggestion-box">
            <div>
              <button class="suggestion-btn text-white">Gợi ý</button>
              <span class="suggestion-text">Xe Tải LEGO Màu Vàng</span>
            </div>
            <i class="bi bi-box-arrow-up-right" style="color:white"></i>
          </div>
          <div class="suggestion-box">
            <div>
              <button class="suggestion-btn text-white">Gợi ý</button>
              <span class="suggestion-text">Công Viên Nước</span>
            </div>
            <i class="bi bi-box-arrow-up-right" style="color:white"></i>
          </div>
          <div class="suggestion-box">
            <div>
              <button class="suggestion-btn text-white">Gợi ý</button>
              <span class="suggestion-text">Thế Giới Ninjago</span>
            </div>
            <i class="bi bi-box-arrow-up-right" style="color:white"></i>
          </div>
        </div>
      </div>
  </div>
</nav>

<!-- Breadcrumb -->
<div class="breadcrumb-container">
  <div class="container">
    <nav aria-label="breadcrumb">
      <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="#">Trang chủ</a></li>
        <li class="breadcrumb-item"><a href="#">Blockify</a></li>
        <li class="breadcrumb-item active" aria-current="page">Xe Cảnh Sát</li>
      </ol>
    </nav>
  </div>
</div>

<!-- Product Section -->
<div class="container">
  <div class="product-main-container">
  <div class="row">
      <!-- Product Images -->
      <div class="col-md-5">
        <div class="product-image-main">
          <img id="pd-image" src="https://www.lego.com/cdn/cs/set/assets/blt6af83992a8ac4c42/60239_alt1.png" alt="Hình Sản Phẩm">
        </div>
        <div class="thumbnail-container">
          <div class="thumbnail" onclick="changeMainImage('https://www.lego.com/cdn/cs/set/assets/blt6af83992a8ac4c42/60239_alt2.png')">
            <img src="https://www.lego.com/cdn/cs/set/assets/blt6af83992a8ac4c42/60239_alt2.png" alt="Hình nhỏ">
          </div>
          <div class="thumbnail" onclick="changeMainImage('https://www.lego.com/cdn/cs/set/assets/blt6af83992a8ac4c42/60239_alt3.png')">
            <img src="https://www.lego.com/cdn/cs/set/assets/blt6af83992a8ac4c42/60239_alt3.png" alt="Hình nhỏ">
          </div>
          <div class="thumbnail" onclick="changeMainImage('https://www.lego.com/cdn/cs/set/assets/blt6af83992a8ac4c42/60239_alt4.png')">
            <img src="https://www.lego.com/cdn/cs/set/assets/blt6af83992a8ac4c42/60239_alt4.png" alt="Hình nhỏ">
          </div>
        </div>
        <div class="social-icons">
          <button class="btn btn-primary"><i class="fab fa-facebook-f"></i></button>
          <button class="btn btn-info"><i class="fab fa-twitter"></i></button>
          <button class="btn btn-primary"><i class="fab fa-linkedin-in"></i></button>
        </div>
      </div>

      <!-- Product Info -->
      <div class="col-md-7 product-info-section">
        <h1 id="pd-title">Tên Sản Phẩm: Xe Cảnh Sát</h1>
        <div id="pd-brand" class="brand-info">Thương hiệu: LEGO CITY <br> Chất liệu: Nhựa ABS</div>
        <div id="pd-rating" class="rating-stars">
          <i class="fas fa-star"></i><i class="fas fa-star"></i>
          <i class="fas fa-star"></i><i class="fas fa-star"></i>
          <i class="fas fa-star"></i>
        </div>

        <div class="price-section">
          <p id="pd-price" class="price">190.000 VND</p>
        </div>
        
        <div class="description-section">
          <div class="description-title">Mô tả</div>
          <div class="description-content">
            <div id="pd-theme">Chủ đề: LEGO City</div>
            <div id="pd-age">Độ tuổi: 5+</div>
            <div style="margin-top: 10px;"><strong>Mô tả ngắn:</strong></div>
            <div id="pd-short-desc">Tham gia thế giới LEGO City với xe cảnh sát tốc độ cao và nhân vật cảnh sát dũng cảm. Phù hợp cho những pha rượt đuổi kịch tính và phiêu lưu sáng tạo.</div>
          </div>
        </div>
        
        <div class="stats-section">
          <div id="pd-stats">
            <span class="stats-item"><i class="fas fa-user"></i> Độ tuổi: 5+</span>
            <span class="stats-item"><i class="fas fa-users"></i> 1476</span>
            <span class="stats-item"><i class="fas fa-star"></i> 4.8</span>
          </div>
        </div>
        
        <div class="quantity-purchase-section">
          <label style="margin-right: 10px;">Số lượng</label>
          <input type="number" value="1" min="1" id="product-quantity" class="form-control quantity-input">
          <span style="color: #28a745; margin-left: 10px;">Còn hàng</span>
        </div>
        
        <div class="quantity-purchase-section">
          <button id="btn-add-to-cart" class="btn btn-add-cart"><i class="fas fa-cart-plus"></i> Thêm vào giỏ</button>
          <button class="btn btn-purchase">Mua ngay</button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Product Details -->
<div class="container">
  <div class="section-container">
    <h6 class="section-title">CHI TIẾT SẢN PHẨM</h6>
    <div class="row">
      <div class="col-8">
        <div class="product-details-content" id="pd-full-description">
          Tham gia những cuộc rượt đuổi kịch tính cùng bộ LEGO City Police! Bộ sản phẩm bao gồm:
          Xe cảnh sát mạnh mẽ với màu xanh trắng đặc trưng, có cánh gió thể thao và đèn còi trên nóc.
          Nhân vật cảnh sát LEGO mặc đồng phục và đội mũ bảo hiểm, sẵn sàng hành động.
          Đây là lựa chọn tuyệt vời giúp trẻ nhỏ vừa chơi vừa phát triển trí tưởng tượng, hóa thân thành cảnh sát bảo vệ thành phố.
          <br><br>
          <strong>Thông tin sản phẩm:</strong><br>
          Thương hiệu: LEGO City<br>
          Độ tuổi: 5+<br>
          Bao gồm: Xe cảnh sát, 1 nhân vật cảnh sát<br>
          Chất liệu: Nhựa ABS an toàn, bền bỉ
        </div>
      </div>
      <div class="col-4">
        <div class="product-details-image">
          <img id="pd-detail-image" src="https://www.lego.com/cdn/cs/set/assets/blt6af83992a8ac4c42/60239.png" alt="Chi tiết sản phẩm">
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Product Rate -->
<div class="container">
  <div class="section-container">
    <h6 class="section-title">ĐÁNH GIÁ SẢN PHẨM</h6>
    <div class="rating-overview">
      <div class="rating-number">4.7 trên 5</div>
      <div class="rating-text">Đánh giá trung bình</div>
    </div>
    <div id="pd-reviews" class="m-0">
      <div class="review-item">
        <div class="review-header">
          <div class="reviewer-avatar">J</div>
          <div class="reviewer-info">
            <div class="reviewer-name">JessicaNguyen</div>
            <div class="review-date">31-05-2025 13:52</div>
            <div>Chất lượng sản phẩm: Tốt</div>
            <div>Độ tuổi khuyên dùng: 8+</div>
          </div>
          <div class="review-stars">★★★★★</div>
        </div>
        <div class="review-content">Giao hàng nhanh, chất lượng tốt, đóng gói cẩn thận. Cảm ơn shop!</div>
        <div class="review-images">
          <img src="https://via.placeholder.com/80x80/007bff/ffffff?text=IMG1" alt="Hình đánh giá">
          <img src="https://via.placeholder.com/80x80/007bff/ffffff?text=IMG2" alt="Hình đánh giá">
        </div>
      </div>
      <div class="review-item">
        <div class="review-header">
          <div class="reviewer-avatar">B</div>
          <div class="reviewer-info">
            <div class="reviewer-name">BatmanRobin</div>
            <div class="review-date">12-02-2025 01:30</div>
          </div>
          <div class="review-stars">★★★★</div>
        </div>
        <div class="review-content">Chất lượng ổn, mình cho 4 sao.</div>
      </div>
    </div>
    <div class="view-more-btn">
      <a href="#"><< Xem thêm >></a>
    </div>
  </div>

  <div class="container p-0">
    <div class="section-container">
      <h6 class="section-title">THÊM ĐÁNH GIÁ</h6>
      <form class="add-review-form" onsubmit="addReview(event)">
        <div class="mb-3">
          <label for="review-user" class="form-label">Tên của bạn</label>
          <input type="text" id="review-user" class="form-control" placeholder="Nhập tên của bạn" required>
        </div>
        <div class="mb-3">
          <label for="review-rating" class="form-label">Xếp hạng</label>
          <select id="review-rating" class="form-select">
            <option value="5">★★★★★ (5 sao)</option>
            <option value="4">★★★★☆ (4 sao)</option>
            <option value="3">★★★☆☆ (3 sao)</option>
            <option value="2">★★☆☆☆ (2 sao)</option>
            <option value="1">★☆☆☆☆ (1 sao)</option>
          </select>
        </div>
        <div class="mb-3">
          <label for="review-comment" class="form-label">Bình luận của bạn</label>
          <textarea id="review-comment" class="form-control" placeholder="Nhập bình luận..." rows="3" required></textarea>
        </div>
        <div class="mb-3">
          <label for="review-images" class="form-label">Tải ảnh (tối đa 3)</label>
          <input type="file" id="review-images" class="form-control" accept="image/*" multiple>
        </div>
        <button type="submit" class="btn btn-primary">Gửi đánh giá</button>
      </form>
    </div>
  </div>
</div>

<!-- Recommend -->
<div class="container-fluid">
  <div class="row recommend-section">
    <div class="col-md-8 mx-auto section-header">
      <h2 class="section-title">Gợi ý cho bạn</h2>
      <div class="nav-buttons">
        <div class="nav-btn" onclick="scrollProducts('left')">
          <i class="fas fa-chevron-left"></i>
        </div>
        <div class="nav-btn" onclick="scrollProducts('right')">
          <i class="fas fa-chevron-right"></i>
        </div>
      </div>
    </div>

    <div class="row">
      <div class="product-scroll col-md-8 mx-auto" id="productScroll">
        <div class="product-grid" id="productGrid">
          <!-- Products will be generated by JavaScript -->
        </div>
      </div>
    </div>
  </div>
</div>

<footer class="footer">
  <div class="container">
      <p class="mb-0">&copy; 2025 LEGO SHOP. Mọi quyền được bảo lưu. | Thiết kế với ❤️ dành cho người yêu LEGO</p>
  </div>
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script type="module" src="/dist/src/assets/js/components/ProductDetail.js"></script>
</body>
</html>
